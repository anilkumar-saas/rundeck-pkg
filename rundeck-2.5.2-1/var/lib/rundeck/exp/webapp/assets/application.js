jQuery=jQuery.noConflict(!0);function clearHtml(a){$(a).innerHTML=""}function setHtml(a,b){clearHtml(a);appendHtml(a,b)}function appendHtml(a,b){$(a).innerHTML+=b}function setText(a,b){clearHtml(a);appendText(a,b)}function appendText(a,b){$(a).appendChild(document.createTextNode(b))}function html_unescape(a){return jQuery("<div/>").html(a.split("<").join("&lt;").split(">").join("&gt;")).text()}
function loadJsonData(a){a=document.getElementById(a);return a?(a=a.textContent||a.innerText)&&""!=a?JSON.parse(a):null:null}function parseUrlParams(a){var b={};a=a.split("?",2);if(2==a.length){a=a[1];a=a.split("&");for(var c=0;c<a.length;c++){var e=a[c].split("=",2);2==e.length&&(b[e[0]]=e[1])}}return b}function toggleDisclosure(a,b,c,e){$(a).toggle();$(a).visible()?$(b).setAttribute("src",e):$(b).setAttribute("src",c)}
function myToggleClassName(a,b){$(a).hasClassName(b)?$(a).removeClassName(b):$(a).addClassName(b)}
function updatecancel(a,b,c){"string"==typeof a&&eval("data="+a);a.cancelled?($(b)&&setHtml(b,'<span class="fail">Killed</span>'),$("exec-"+c+"-spinner")&&(clearHtml($("exec-"+c+"-spinner")),a=new Element("img"),a.src=appLinks.iconTinyWarn,$("exec-"+c+"-spinner").appendChild(a)),$("exec-"+c+"-dateCompleted")&&(clearHtml($("exec-"+c+"-dateCompleted")),$("exec-"+c+"-dateCompleted").onclick&&($(b).onclick=$("exec-"+c+"-dateCompleted").onclick))):"success"!=a.status?$(b)&&(c=new Element("span"),c.addClassName("fail"),
setText(c,a.error?a.error:"Failed to Kill job."),clearHtml(b),$(b).appendChild(c)):"success"==a.status&&($(b)&&setText(b,"Job Completed."),$("exec-"+c+"-spinner")&&(clearHtml("exec-"+c+"-spinner"),a=new Element("img"),a.src=appLinks.iconTinyOk,$("exec-"+c+"-spinner").appendChild(a)),$("exec-"+c+"-dateCompleted")&&(clearHtml("exec-"+c+"-dateCompleted"),$("exec-"+c+"-dateCompleted").onclick&&($(b).onclick=$("exec-"+c+"-dateCompleted").onclick)))}
function canceljob(a,b){if($(b)){clearHtml(b);var c=new Element("img");c.src=appLinks.iconSpinner;$(b).appendChild(c);appendText(b," Killing Job ...")}new Ajax.Request(appLinks.executionCancelExecution,{parameters:"id="+a,onSuccess:function(c){try{updatecancel(c.responseText,b,a)}catch(d){alert(d)}},onFailure:function(c){updatecancel({error:"Request failed: "+c.statusText},b,a);cancelJobError("Request failed: "+c.statusText,b,a)}})}function cancelJobError(a,b,c){}
var Expander={toggle:function(a,b,c){var e=$(a);if(e){var d;$(b)&&(d=$(b));var f;if(d)e.hasClassName("expandComponentControl")&&(f=e),e.hasClassName("expandComponentHolder")?f||(f=e.down(".expandComponentControl")):e.up(".expandComponentHolder");else if(e=e.up(".expandComponentHolder"))d=e.down(".expandComponent"),f=e.down(".expandComponentControl");e=!1;d?e=!Element.visible(d):f&&((d=f.down(".glyphicon"))?e=d.hasClassName("glyphicon-chevron-down"):(d=f.down("img"))&&(e=d.src==AppImages.disclosure));
Expander.setOpen(a,b,e,c);return e}},setOpen:function(a,b,c,e){if(a=$(a)){var d;$(b)&&(d=$(b));var f,g;!d&&(f=a.up(".expandComponentHolder"))&&(d=f.down(".expandComponent"),g=f.down(".expandComponentControl"));f&&g||(a.hasClassName("expandComponentControl")&&(g=a),a.hasClassName("expandComponentHolder")?(f=a,g||(g=f.down(".expandComponentControl"))):f=a.up(".expandComponentHolder"));d&&(c?Element.show(d):Element.hide(d),null!=e&&$$(e).each(function(a){c?Element.show(a):Element.hide(a)}));f?c?Element.addClassName(f,
"expanded"):Element.removeClassName(f,"expanded"):g&&d&&(c?(Element.addClassName(g,"expanded"),Element.removeClassName(g,"closed")):(Element.removeClassName(g,"expanded"),Element.addClassName(g,"closed")));if(g)if(b=g.down(".glyphicon"))c?(b.addClassName("glyphicon-chevron-down"),b.removeClassName("glyphicon-chevron-right")):(b.addClassName("glyphicon-chevron-right"),b.removeClassName("glyphicon-chevron-down"));else if(b=g.down("img"))b.src=c?AppImages.disclosureOpen:AppImages.disclosure}},open:function(a,
b){Expander.setOpen(a,b,!0)},close:function(a,b){Expander.setOpen(a,b,!1)}};"1.6.0.2"==Prototype.Version&&Prototype.Browser.IE&&(Object.extend(Element,{getStyle_Orig:Element.Methods.getStyle}),Object.extend(Element,{getStyle:function(a,b){a=$(a);return a!=document&&a!=document.body||"position"!=b?Element.getStyle_Orig(a,b):null}}));function _isIe(a){return Prototype.Browser.IE&&$$("html")[0].hasClassName("ie"+a)}
function noenter(a){a&&a.keyCode==Event.KEY_RETURN&&Event.stop(a);return!(a&&a.keyCode==Event.KEY_RETURN)}function nochars(a,b){var c=b.keyCode?b.keyCode:b.charCode;b&&0!=c&&0<=a.indexOf(String.fromCharCode(c))&&Event.stop(b);return!(b&&0!=c&&0<=a.indexOf(String.fromCharCode(c)))}
function _applyAce(a,b){if(!(_isIe(8)||_isIe(7)||_isIe(6))){$(a).setStyle({width:"100%",height:null!=b?b:"200px"});$(a).addClassName("ace_editor");var c=ace.edit(a.identify());c.setTheme("ace/theme/chrome");c.getSession().setMode("ace/mode/"+(jQuery(a).data("aceSessionMode")?jQuery(a).data("aceSessionMode"):"sh"));c.setReadOnly(!0)}}
function _setupAceTextareaEditor(a,b){if(!(_isIe(8)||_isIe(7)||_isIe(6))){jQuery(a).hide();var c=jQuery("<div></div>"),e=jQuery(a).data();c.css({width:e.aceWidth?e.aceWidth:"100%",height:e.aceHeight?e.aceHeight:"560px"}).addClass("ace_text").text(jQuery(a).val()).insertBefore(a);var d=ace.edit(generateId(c));d.setTheme("ace/theme/chrome");d.getSession().setMode("ace/mode/"+(e.aceSessionMode?e.aceSessionMode:"sh"));d.getSession().on("change",function(c){jQuery(a).val(d.getValue());b&&b()});e.aceAutofocus&&
d.focus();e.aceControlSoftWrap&&e.aceControlSoftWrap&&(e=jQuery("<input/>").attr("type","checkbox").on("change",function(a){d.getSession().setUseWrapMode(this.checked)}),e=jQuery("<label></label>").append(e).append("Soft Wrap"),jQuery("<div></div>").addClass("checkbox ace_text_controls").append(e).insertBefore(c))}}
function controlkeycode(a){var b=[Event.KEY_BACKSPACE,Event.KEY_DELETE,Event.KEY_TAB,Event.KEY_RETURN,Event.KEY_ESC,Event.KEY_PAGEDOWN,Event.KEY_PAGEUP,Event.KEY_END,Event.KEY_HOME,Event.KEY_INSERT,Event.KEY_LEFT,Event.KEY_RIGHT,Event.KEY_DOWN,Event.KEY_UP];return a.keyCode&&0<=b.indexOf(a.keyCode)?!0:!1}function onlychars(a,b){var c=b.keyCode?b.keyCode:b.charCode;b&&0!=c&&!String.fromCharCode(c).match(a)&&Event.stop(b);return!(b&&0!=c&&!String.fromCharCode(c).match(a))}
function fireWhenReady(a,b){0<jQuery("#"+a).size()?b():jQuery(document).ready(b)}function _genUrl(a,b){var c=[];if("string"==typeof b)c=[b];else if("object"==typeof b)for(var e in b)c.push(encodeURIComponent(e)+"="+encodeURIComponent(b[e]));return a+(0<a.indexOf("?")?"&":"?")+c.join("&")}function _pageLink(a,b,c,e,d){var f=new Element("a");f.href=_genUrl(a,b);setText(f,c);f.addClassName(e);Event.observe(f,"click",function(a){d&&!d(f,b)&&a.preventDefault()});return f}
function totalPageCount(a,b){var c=Math.floor(b/a);c!=b/a&&(c+=1);return c}
function foreachPage(a,b,c,e,d){if(c){c=parseInt(c);a=a?parseInt(a):0;b=b?parseInt(b):20;var f={maxsteps:10};"function"==typeof e?d=e:e&&Object.extend(f,e);e=totalPageCount(b,c);var g=Math.floor(a/b)+1,h=g-Math.floor(f.maxsteps/2);h+f.maxsteps>e&&(h=e-f.maxsteps);0>h&&(h=0);var k=0<h,l=h+f.maxsteps<e;d({offset:a-b,page:g-1,prevPage:!0,disabled:1>=g,max:b});k&&d({skipped:!0,disabled:!0,max:b});for(k=h;k-h<f.maxsteps&&b*k<c;k++)d({offset:b*k,currentPage:k+1==g,page:k+1,normal:!0,max:b});l&&d({skipped:!0,
disabled:!0,max:b});d({offset:a+b,nextPage:!0,page:g+1,disabled:g>=e,max:b})}}
function paginate(a,b,c,e,d){if((a=$(a))&&c){c=parseInt(c);b=b?parseInt(b):0;e=e?parseInt(e):20;var f={"paginate.next":"Next","paginate.prev":"Previous",nextClass:"",prevClass:"",stepClass:"",currentStepClass:"active",offsetParam:"offset",maxParam:"max",maxsteps:10,insertion:"bottom",behavior:null,ulCss:"pagination pagination-sm"};d&&Object.extend(f,d);if(f.baseUrl){var g=Math.floor(b/e)+1;d=new Element("ul");d.addClassName(f.ulCss);var h,k=new Element("li");1<g?h=_pageLink(f.baseUrl,{offset:b-e,
max:e},f["paginate.prev"],f.prevClass,f.prevBehavior):(h=new Element("span"),setText(h,f["paginate.prev"]),k.addClassName("disabled"));k.appendChild(h);d.appendChild(k);for(var l=0;l<f.maxsteps&&e*l<c;l++)h=_pageLink(f.baseUrl,{offset:e*l,max:e},l+1,f.stepClass,f.stepBehavior),k=new Element("li"),l+1==g&&k.addClassName(f.currentStepClass),k.appendChild(h),d.appendChild(k);k=new Element("li");b<c-e?h=_pageLink(f.baseUrl,{offset:b+e,max:e},f["paginate.next"],f.nextClass,f.nextBehavior):(h=new Element("span"),
setText(h,f["paginate.next"]),k.addClassName("disabled"));k.appendChild(h);d.appendChild(k);b={};b[f.insertion]=d;clearHtml(a);a.insert(b)}}}
function _initPopoverContentRef(a){jQuery(null!=a?a+" [data-toggle=popover][data-popover-content-ref]":"[data-toggle=popover][data-popover-content-ref]").each(function(a,c){if("true"!=jQuery(c).data("popover-content-ref-inited")){var e=jQuery(c).data("popover-content-ref");jQuery(c).popover({html:!0,content:jQuery(e).html()}).on("shown.bs.popover",function(){jQuery(c).toggleClass("active")}).on("hidden.bs.popover",function(){jQuery(c).toggleClass("active")});jQuery(c).data("popover-content-ref-inited",
"true")}})}function _initPopoverContentFor(a){jQuery(null!=a?a+" [data-toggle=popover-for]":"[data-toggle=popover-for]").each(function(a,c){var e=jQuery(c).data("target")||c.href(),d=jQuery(e);jQuery(c).on(d.data("data-trigger")||"click",function(){d.popover("toggle")});d.on("shown.bs.popover",function(){jQuery(c).toggleClass("active")}).on("hidden.bs.popover",function(){jQuery(c).toggleClass("active")})})}
function _initAffix(){jQuery("a[href='#top']").click(function(){jQuery("html, body").animate({scrollTop:0},"slow");return!1});jQuery("[data-affix=top]").each(function(a,b){var c=jQuery(b).data("affix-padding-top"),c=jQuery(b).offset().top-(c?c:0);jQuery(b).affix({offset:{top:c}});jQuery(b).closest("[data-affix=wrap]").height(jQuery(b).height())})}
function _initIEPlaceholder(){Prototype.Browser.IE&&(jQuery("[placeholder]").focus(function(){var a=jQuery(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=jQuery(this);if(""==a.val()||a.val()==a.attr("placeholder"))a.addClass("placeholder"),a.val(a.attr("placeholder"))}).blur(),jQuery("[placeholder]").parents("form").submit(function(){jQuery(this).find("[placeholder]").each(function(){var a=jQuery(this);a.val()==a.attr("placeholder")&&a.val("")})}))}
function _initCollapseExpander(){jQuery(document).on("show.bs.collapse",".collapse.collapse-expandable",function(a){a=jQuery(this);jQuery("[data-toggle=collapse][href='#"+a.attr("id")+"']").addClass("active").children(".glyphicon").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down");jQuery("[data-toggle=collapse][data-target='#"+a.attr("id")+"']").addClass("active").children(".glyphicon").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down")});jQuery(document).on("hide.bs.collapse",
".in.collapse-expandable",function(a){a=jQuery(this);jQuery("[data-toggle=collapse][href='#"+a.attr("id")+"']").removeClass("active").children(".glyphicon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right");jQuery("[data-toggle=collapse][data-target='#"+a.attr("id")+"']").removeClass("active").children(".glyphicon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right")})}
function _toggleAnsiColor(a){a=jQuery(this).find("input")[0].checked;var b=jQuery(".ansicolor");a?b.addClass("ansicolor-on"):b.removeClass("ansicolor-on")}function _initAnsiToggle(){jQuery(".ansi-color-toggle").on("change",_toggleAnsiColor);jQuery(".nodes_run_content").on("change",".ansi-color-toggle",_toggleAnsiColor)}
function _ajaxSendTokens(a,b,c){c=jQuery("#"+a);var e={};c&&c.data("rundeck-token-key")&&c.data("rundeck-token-uri")?e={TOKEN:c.data("rundeck-token-key"),URI:c.data("rundeck-token-uri")}:(e=loadJsonData(a),clearHtml(document.getElementById(a)));e&&e.TOKEN&&e.URI&&(b.setRequestHeader("X-RUNDECK-TOKEN-KEY",e.TOKEN),b.setRequestHeader("X-RUNDECK-TOKEN-URI",e.URI));return!0}
function _ajaxReceiveTokens(a,b,c,e){a=jQuery("#"+a);if(e.getResponseHeader("X-RUNDECK-TOKEN-KEY")&&e.getResponseHeader("X-RUNDECK-TOKEN-URI"))try{a.data("rundeck-token-key",e.getResponseHeader("X-RUNDECK-TOKEN-KEY")),a.data("rundeck-token-uri",e.getResponseHeader("X-RUNDECK-TOKEN-URI"))}catch(d){}}
function _initTokenRefresh(){jQuery(document).ajaxComplete(function(a,b,c){if(b.getResponseHeader("X-RUNDECK-TOKEN-KEY")&&b.getResponseHeader("X-RUNDECK-TOKEN-URI"))try{jQuery("#SYNCHRONIZER_TOKEN").val(b.getResponseHeader("X-RUNDECK-TOKEN-KEY")),jQuery("#SYNCHRONIZER_URI").val(b.getResponseHeader("X-RUNDECK-TOKEN-URI"))}catch(e){}})}
(function(){"function"==typeof jQuery&&jQuery(document).ready(function(){jQuery(".has_tooltip").tooltip({});_initPopoverContentRef();_initPopoverContentFor();_initAffix();_initIEPlaceholder();_initCollapseExpander();_initAnsiToggle()})})();
var updateNowRunning=function(a){var b="Now Running ("+a+")";$("nowrunninglink")&&setText($("nowrunninglink"),b);$$(".nowrunningcount").each(function(b){setText(b,"("+a+")")});"function"===typeof _pageUpdateNowRunning&&_pageUpdateNowRunning(a)},_setLoading=function(a,b){a=$(a);if(null===b||"undefined"==typeof b)b="Loading\u2026";if("TBODY"===a.tagName){var c=new Element("tr"),e=new Element("td");c.appendChild(e);a.appendChild(c);c=new Element("span");c.addClassName("loading");var d=new Element("img");
d.src=appLinks.iconSpinner;$(c).appendChild(d);appendText(c," "+b);e.appendChild(c)}else c=new Element("span"),c.addClassName("loading"),d=new Element("img"),d.src=appLinks.iconSpinner,$(c).appendChild(d),appendText(c," "+b),clearHtml(a),a.appendChild(c);return a},_tooltipElemSelector=null,_tooltiptimer=null,_tooltipelem=null,tooltipMouseOut=function(){_tooltipelem=_tooltiptimer=null;_tooltipElemSelector&&($$(".tooltipcontent").each(Element.hide),$$(_tooltipElemSelector).each(function(a){$(a).removeClassName("glow");
$(a).removeClassName("active");$(a).removeAttribute("data-rdtooltip")}))},initTooltipForElements=function(a){$$(a).each(function(a){var c=a.identify();$(c+"_tooltip")&&(Event.observe(a,"mouseenter",function(e){_tooltiptimer&&_tooltipelem==a||(_tooltiptimer&&(clearTimeout(_tooltiptimer),tooltipMouseOut()),$(a).addClassName("glow"),(new MenuController).showRelativeTo(a,c+"_tooltip"),$(a).setAttribute("data-rdtooltip","true"))}),Event.observe(a,"mouseleave",function(c){_tooltiptimer||(_tooltiptimer=
setTimeout(tooltipMouseOut,50),_tooltipelem=a)}))});null==_tooltipElemSelector?(_tooltipElemSelector=a,Event.observe(document.body,"click",function(a){a.element().hasAttribute("data-rdtooltip")||tooltipMouseOut()},!1)):_tooltipElemSelector=_tooltipElemSelector+", "+a},initClicktipForElements=function(a){$$(a).each(function(a){var c=a.identify();$(c+"_tooltip")&&Event.observe(a,"click",function(e){(e=_tooltipelem)&&_tooltipelem!=a&&(clearTimeout(_tooltiptimer),tooltipMouseOut());_tooltipelem==a||e==
a?_tooltiptimer||(_tooltiptimer=setTimeout(tooltipMouseOut,50),_tooltipelem=null):(_tooltiptimer&&(clearTimeout(_tooltiptimer),tooltipMouseOut()),$(a).addClassName("active"),(new MenuController).showRelativeTo(a,c+"_tooltip"),_tooltipelem=a,$(a).setAttribute("data-rdtooltip","true"))},!0)});null==_tooltipElemSelector?(_tooltipElemSelector=a,Event.observe(document.body,"click",function(a){a.element().hasAttribute("data-rdtooltip")||tooltipMouseOut()},!1)):_tooltipElemSelector=_tooltipElemSelector+
", "+a};Element.addMethods({loading:_setLoading});
function _updateMatchedNodes(a,b,c,e,d,f,g){c&&(c=Object.extend({view:"embed",declarenone:!0,fullresults:!0},a),null!==d&&Object.extend(c,d),e&&(c.localNodeOnly="true"),c.nodeExcludePrecedence="string"==typeof a.nodeExcludePrecedence&&"false"===a.nodeExcludePrecedence||"boolean"==typeof a.nodeExcludePrecedence&&!a.nodeExcludePrecedence?"false":"true",jQuery("#"+b).load(_genUrl(appLinks.frameworkNodesFragment,c),function(a,c,d){jQuery("#"+b).removeClass("depress");"success"==c?"function"==typeof f&&
f(d):"function"==typeof g&&g(a,c,d)}))}function setFilter(a,b,c){b||(b="!");null===c&&(c=_setFilterSuccess);jQuery.ajax({type:"POST",url:_genUrl(appLinks.userAddFilterPref,{filterpref:a+"="+b}),beforeSend:_ajaxSendTokens.curry("filter_select_tokens"),success:function(b,d,f){if("function"===typeof c)c(b,a);else if("function"==typeof _setFilterSuccess)try{_setFilterSuccess(b,a)}catch(g){}}}).success(_ajaxReceiveTokens.curry("filter_select_tokens"))}
var generateId=function(){var a=0;return function(b){if((b=b?jQuery(b):null)&&b.attr("id"))return b.attr("id");var c="_id"+a++;b&&b.attr("id",c);return c}}(),MenuController=Class.create({menuStart:new Hash,menuHideTimeout:new Hash,doMenuToggle:function(a,b){Element.visible(b)?this.doMenuHide(b):this.doMenuShow(a,b)},doMenuShow:function(a,b){this.doMenuHideAll();this.menuHideTimeout.get(b)&&(clearTimeout(this.menuHideTimeout.get(b)),this.menuHideTimeout.unset(b));var c=$(b),e=$(a);Element.hide(c);
Element.absolutize(c);c.setStyle({zIndex:100});var d=e.offsetHeight,f=e.offsetWidth,g=e.viewportOffset(),h=document.viewport.getWidth();document.viewport.getScrollOffsets();var k=c.getWidth(),g=h-(g.left+(k+16));0<g&&(g=0);0>g&&k>f&&(g=f-k);Element.clonePosition(c,e,{setWidth:!1,setHeight:!1,offsetTop:d,offsetLeft:g});e.addClassName("menuSelected");e.addClassName("menuopen");e.addClassName("menu_click_"+c.identify());Element.show(c);this.menuStart.set(b,!0);e.down("img.disclosureicon").addClassName("menu_discl_"+
c.identify());e.down("img.disclosureicon").src=AppImages.disclosureOpen},showRelativeTo:function(a,b,c,e){b=$(b);a=$(a);Element.hide(b);Element.absolutize(b);b.setStyle({zIndex:100});var d=a.offsetHeight,f=0;null!=e&&(d=e);null!=c&&(f=c);var g=a.viewportOffset();c=document.viewport.getWidth();e=document.viewport.getScrollOffsets();var h=b.getWidth(),g=c-(g.left+(h+16+f));0>g&&c>h&&(f+=g);Prototype.Browser.IE&&(d+=e[1],f+=e[0]);Element.clonePosition(b,a,{setWidth:!1,setHeight:!1,offsetTop:d,offsetLeft:f});
Try.these(Element.show.curry(b))},doMenuHide:function(a,b){if(b){this.menuHideTimeout.get(a)&&(clearTimeout(this.menuHideTimeout.get(a)),this.menuHideTimeout.unset(a));var c=setTimeout(this.doMenuHide.bind(this,a),b);this.menuHideTimeout.set(a,c)}else if(c=Element.identify(a),this.menuStart.get(c)){Element.hide(a);this.menuStart.unset(c);var e="menu_click_"+c,d="menu_discl_"+c;$$("."+e).each(function(a){$(a).removeClassName("menuSelected","menuopen",e)});$$("img."+d).each(function(a){$(a).removeClassName(d);
$(a).src=AppImages.disclosure})}},doMenuHideAll:function(){var a=!1,b=this;this.menuStart.each(function(c){b.doMenuHide(c.key);a=!0});return a},_menukeyDownHandler:function(a){var b;a.keyCode?b=a.keyCode:a.which&&(b=a.which);if(b==Event.KEY_ESC&&Try.these(this.doMenuHideAll.bind(this)))return!1},_mouseoutMenuHide:function(a,b){Event.element(a);var c=Event.relatedTarget(a);a.relatedTarget&&(c=$(a.relatedTarget));c.descendantOf(b)||this.doMenuHide(b,1500)},_mouseoverMenuRestore:function(a,b){Event.element(a);
var c=Event.relatedTarget(a);a.relatedTarget&&(c=$(a.relatedTarget));!c.descendantOf(b)&&this.menuHideTimeout.get(b)&&(clearTimeout(this.menuHideTimeout.get(b)),this.menuHideTimeout.unset(b))}}),VersionIdentity=function(a){function b(a){var b=String(a).split(" "),b=1<b.length?b[0]:a;a=String(b).split("-");var c=a[0].split("."),b={version:b};b.major=0<c.length?parseInt(c[0]):0;b.minor=1<c.length?parseInt(c[1]):0;b.majorMinor=10*b.major+b.minor;b.point=2<c.length?parseInt(c[2]):0;b.minorPoint=10*b.minor+
b.point;var c=1,d="";1<a.length&&/^\d+$/.test(a[1])?(c=parseInt(a[1]),d=2<a.length?a[2]:""):1<a.length&&(d=a[1]);b.tag=d;b.release=c;b.pointRelease=10*b.point+c;b.minorPointRelease=100*b.minor+10*b.point+c;b.full=100*b.major+10*b.minor+b.point;return b}function c(a){var b=String(a).split("-");0<b.length&&b[0].substring(0,2);a={};for(var c=0;c<b.length;c++)a["uuid"+c]=parseInt(b[c].substring(0,2),16),a["hexuuid"+c]=b[c];for(var b=b.join(""),d=[],e=0;6*(e+1)<b.length;e++)a["6let"+c]=b.substring(6*e,
6*(e+1)),d.push(b.substring(6*e,6*(e+1)));a.sixes=d;return a}function e(a,b){return a[b%a.length]}var d=this;d.versionString=a.versionString;d.versionData={};d.colorIdentity=a&&a.colorIdentity?a.colorIdentity:"minorPoint";d.nameIdentity=a&&a.nameIdentity?a.nameIdentity:"majorMinor";d.iconIdentity=a&&a.iconIdentity?a.iconIdentity:"minorPoint";d.appId=a&&a.appId?a.appId:"Rundeck";d.serverName=a&&a.serverName?a.serverName:null;d.csscolors="BlueViolet CadetBlue Chocolate CornflowerBlue Crimson DodgerBlue FireBrick ForestGreen Fuchsia Goldenrod HotPink Indigo LimeGreen Magenta Maroon MidnightBlue Navy Olive OrangeRed Purple RoyalBlue SaddleBrown SeaGreen Sienna SlateBlue SteelBlue Teal Tomato Violet".split(" ");
d.glyphicons="bell book briefcase bullhorn camera cutlery flag flash gift globe headphones leaf music paperclip phone plane pushpin tower glass knight tent apple lamp piggy-bank grain sunglasses".split(" ");d.names="Americano;Cafe Au Lait;Cafe Bonbon;Cafecito;Cafe Cubano;Caffe Latte;Cafe Mocha;Cappuccino;Caramel Latte;Coconut Latte;Con Panna;Doppio Espresso;Dry Cappuccino;Espresso Breve;Eye Opener;Hammerhead;Macchiato;Pumpkin Spice Latte;Ristretto;Solo Espresso;Toffee Latte;Turkish Coffee;Vanilla Latte;Viennese Espresso".split(";");
d.data=function(){return d.versionData};d.color=function(){return e(d.csscolors,d.versionData[d.colorIdentity])};d.name=function(){return e(d.names,d.versionData[d.nameIdentity])};d.icon=function(){return e(d.glyphicons,d.versionData[d.iconIdentity])};d.text=function(){return[d.name(),d.color(),d.icon()].join(" ").toLowerCase().replace(/[^a-z]/g," ")};d.showVersionIdentity=function(a){var b=d.color();d.name();var c=d.icon(),e=d.text(),l=d.data(),m=jQuery("<span></span>"),b=jQuery("<span></span>").addClass("version-icon").css({color:b});
b.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+c));m.append(b);c=jQuery("<span></span>").addClass("rundeck-version-name").text(e);l.tag&&"GA"!=l.tag?b.append(c):m.append(c);e=jQuery("<span></span>").attr("title",d.appId+" "+d.versionString+" ("+e+")").append(m);l.tag&&"GA"!=l.tag&&e.append(jQuery("<span></span>").addClass("badge badge-info").text(" "+l.tag.toLowerCase()));jQuery(a).append(e)};d.stripeBg=function(a,b,c,d){return"repeating-linear-gradient(-45deg, "+a+", "+a+" "+b+"px, "+
c+" "+b+"px, "+c+" "+d+"px )"};d.stripeAllBg=function(a,b,c){a="repeating-linear-gradient("+a+", ";for(var d=0,e=0;e<b.length;e++)0<e&&(a+=", "),a+="#"+b[e]+" "+d+"px, ",d+=c,a+="#"+b[e]+" "+d+"px";return a+")"};d.showVersionBlock=function(a){var b=d.color();d.name();var c=d.icon(),e=d.text(),l=d.data(),m=jQuery("<span></span>"),n=jQuery("<span></span>").addClass("version-icon");n.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+c));m.append(n);c=jQuery("<span></span>").addClass("rundeck-version-name").text(e);
m.append(c);m=jQuery("<div></div>").text(d.appId+" "+d.versionString+" ").append(m);l.tag&&"GA"!=l.tag?jQuery(a).css({background:d.stripeBg(b,15,"#5c5c5c",20),color:"white"}).append(m):jQuery(a).css({background:b,color:"white"}).append(m)};d.showServerName=function(b){if(a.serverUuid){d.versionData.hexuuid0.substring(0,6);var c=e(d.glyphicons,d.versionData.uuid0),h=[c,d.versionData.hexuuid0.substring(0,2)].join("-").toLowerCase(),k=d.serverName?d.serverName:"",l=d.versionData.hexuuid0.substring(0,
2);jQuery("<i></i>").addClass("rdicon node node-runnable icon-small");var m=jQuery("<span></span>"),n=jQuery("<span></span>");n.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+c));m.append(n);c=jQuery("<span></span>").text(" "+k+" ");k=jQuery("<span></span>").css({"border-image":d.stripeAllBg("90deg",d.versionData.sixes,20),"border-width":"0 0 2px 0",padding:"1px","border-color":"solid transparent","border-image-slice":"1"});h=jQuery("<span></span>").attr("title",h+" / "+a.serverUuid).css({}).append(k.append(c).append(m).append(" "+
(d.serverName?l:h))).append(jQuery("<span></span>").text(" "));jQuery(b).append(h)}};d.versionString?d.versionData=b(d.versionString):a.serverUuid&&(d.versionData=c(a.serverUuid))};(function(){jQuery(function(){jQuery(".rundeck-version-identity").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionIdentity(this)});jQuery(".rundeck-version-block").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionBlock(this)});jQuery(".rundeck-server-uuid").each(function(){(new VersionIdentity(jQuery(this).data())).showServerName(this)})})})();